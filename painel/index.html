<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Painel Plasma</title>
<script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-900 text-white min-h-screen p-6">
  <h1 class="text-3xl font-bold mb-6">Painel Plasma</h1>

  <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
    <div class="bg-gray-800 p-4 rounded-2xl shadow">
      Clientes Ativos: <span id="ativos" class="font-bold">0</span>
    </div>
    <div class="bg-gray-800 p-4 rounded-2xl shadow">
      Em Negociação: <span id="negociando" class="font-bold">0</span>
    </div>
    <div class="bg-gray-800 p-4 rounded-2xl shadow">
      Histórico: <span id="historico" class="font-bold">0</span>
    </div>
  </div>

  <p class="text-sm text-gray-400 mb-4">
    Atualiza automaticamente a cada 3 segundos.
  </p>

  <script>
    async function carregar() {
      try {
        const res = await fetch('/status');
        const data = await res.json();
        document.getElementById('ativos').innerText = data.ativos || 0;
        document.getElementById('negociando').innerText = data.negociando || 0;
        document.getElementById('historico').innerText = data.historico || 0;
      } catch (e) {
        console.log("Erro ao buscar status:", e);
      }
    }

    setInterval(carregar, 3000);
    carregar();
  </script>
</body>
</html>
